/*!1.2.7 kooboy_li@163.com*/!function(){var e=document,t=window;if(e.__)t.postMessage({_a:"mx_ispt",_b:"expand"},"*");else{t.addEventListener("message",function(e){var t=e.data;t&&"mx_ispt"==t._a&&"expand"==t._b&&f._c()},!1),e.__=1;var a={_p:"#008B00",_r:"#FF3030",_q:"#BC8F8F",_y:"#FF3030",_M:"#9AC0CD",_N:"#8B5F65",_O:"#EED5B7",_ae:"#94d694"},i={_af:550,_ag:470,_ah:530,_ai:400,_aj:490,_ak:34,_al:6,_am:15,_F:5,_an:5,_ao:40,_ap:40,_h:{r:0,g:153,b:102},_i:{r:255,g:255,b:0},_t:15,_u:5,_v:12,_w:5,_x:12},n=["FFC125","C71585","CDBA96","FF7F00","BA55D3","8B4726","7CFC00","4A4A4A","EE7AE9"],r={_E:"#CC9966",_D:"#99CCCC",_C:"#FF9999",_B:"#CCCC99"},o={_q:"mxi-b",_s:"mxi-a"},s=function(t){return e.getElementById(t)},l={_W:function(e,t,a){var i,n=e(window),r=e(document),o=function(e){(e=window.getSelection)?e().removeAllRanges():(e=window.document.selection)&&(e.empty?e.empty():e=null)},s=function(e){e.preventDefault()},l=function(e){i.iMove&&i.move(e)},c=function(a){if(i){r[t]("mousemove touchmove",l)[t]("mouseup touchend",c)[t]("keydown mousewheel DOMMouseScroll",s),n[t]("blur",c);var o=i.node;e(o)[t]("losecapture",c),o.setCapture&&o.releaseCapture(),i.iStop&&i.stop(a),i=null}};return{_U:function(t,u,_){c(),t&&(o(),t.setCapture&&t.setCapture(),i={move:u,stop:_,node:t,iMove:a(u),iStop:a(_)},r.on("mousemove touchmove",l).on("mouseup touchend",c).on("keydown mousewheel DOMMouseScroll",s),n.on("blur",c),e(t).on("losecapture",c))},_V:o}}},c=/[&<>]/g,u={"&":"amp","<":"lt",">":"gt"},_=function(e){return e.replace(c,function(e){return"&"+u[e]+";"})},f={_J:function(){var t=e.createElement("div");t.innerHTML='<div class="mxi-e" id="mx"><ul class="mxi-p mxi-d" id="mx_tabs"><li class="mxi-l mxi-n mxi-m" id="mx_min">\u25b3</li><li class="mxi-k mxi-n mxi-m">VOM</li><li class="mxi-k mxi-n mxi-m">Tracer</li><li class="mxi-k mxi-n mxi-m">Manager</li></ul><div id="mx_painter"><div style="width:{_af}px;height:{_ai}px;overflow-x:auto;overflow-y:hidden" id="mx_view_cnt"><canvas width="{_af}" height="{_ai}" id="mx_view_canvas"></canvas></div><label class="mxi-k mxi-h"><input type="checkbox" class="mxi-j" id="mx_log_console">\u63a7\u5236\u53f0\u663e\u793aview\u4fe1\u606f</label><label class="mxi-k mxi-h"><input type="checkbox" class="mxi-j" id="mx_com_view" checked="checked">\u663e\u793a\u7ec4\u4ef6view</label><ul class="mxi-p mxi-k" id="mx_view_total"></ul></div><div id="mx_trancer" style="height:{_ai}px;overflow:scroll;overflow-x:auto;display:none;padding:8px"></div><div id="mx_manager" style="display:none"><div style="height:{_ai}px;overflow:scroll;overflow-x:auto" id="mx_manager_cnt"><canvas width="{_ah}" height="{_ai}" id="mx_manager_canvas"></canvas></div><ul class="mxi-p mxi-n" id="mx_manager_total"></ul></div><div id="mx_moreinfo"></div><div id="mx_manager_moreinfo"></div></div>'.replace(/\{(\w+)\}/g,function(e,t){return i[t]}),e.documentElement.appendChild(t),f._aq(),k._d()._ac("#mx","#mx_tabs")},_aq:function(){f._ar();var e,t=k._d();t._Z("mx_view_canvas","mousemove",f._as=function(a){clearTimeout(e),e=setTimeout(function(){var e=t._Y("mx_view_canvas");f._at({x:a.pageX-e.left,y:a.pageY-e.top})},10)}),t._Z("mx_view_canvas","mouseout",f._au=function(){clearTimeout(e),f._at({x:-1,y:-1})}),t._Z("mx_manager_canvas","mousemove",f._av=function(a){clearTimeout(e),e=setTimeout(function(){var e=t._Y("mx_manager_canvas");f._aw({x:a.pageX-e.left,y:a.pageY-e.top})},10)}),t._Z("mx_manager_canvas","mouseout",f._ax=function(){clearTimeout(e),f._aw({x:-1,y:-1})}),t._Z("mx_moreinfo","mouseover",f._ay=function(){clearTimeout(f._az)}),t._Z("mx_moreinfo","mouseout",f._aA=function(){f._aB()}),t._Z("mx_log_console","click",function(){s("mx_log_console").checked&&window.console.dir(t._o().all())}),t._Z("mx_com_view","click",function(){k._K()}),t._Z("mx","click",f._aC=function(e){var a;"mx_min"==e.target.id?(a=s("mx"),"\u25b3"==e.target.innerHTML?(a.style.height=i._ak+"px",a.style.width="40px",a.style.overflow="hidden",e.target.innerHTML="\u25bd",t._ad("#mx_tabs").addClass("mxi-r")):(a.style.height=i._ag+"px",a.style.width=i._af+"px",a.style.overflow="inherit",e.target.innerHTML="\u25b3",t._ad("#mx_tabs").removeClass("mxi-r"))):"VOM"==e.target.innerHTML?((a=s("mx_painter")).style.display="block",(a=s("mx_trancer")).style.display="none",(a=s("mx_manager")).style.display="none"):"Tracer"==e.target.innerHTML?((a=s("mx_painter")).style.display="none",(a=s("mx_manager")).style.display="none",(a=s("mx_trancer")).style.display="block"):"Manager"==e.target.innerHTML&&((a=s("mx_painter")).style.display="none",(a=s("mx_trancer")).style.display="none",(a=s("mx_manager")).style.display="block")})},_c:function(){var e=s("mx_min"),t=k._d();if("\u25bd"==e.innerHTML){var a=s("mx");a.style.height=i._ag+"px",a.style.width=i._af+"px",a.style.overflow="inherit",e.innerHTML="\u25b3",t._ad("#mx_tabs").removeClass("mxi-r")}},_ar:function(){var e=k._d();e._a_("mx_view_canvas","mousemove",f._as),e._a_("mx_view_canvas","mouseout",f._au),e._a_("mx_manager_canvas","mousemove",f._aD),e._a_("mx_manager_canvas","mouseout",f._ax),e._a_("mx_min","click",f._aC),e._a_("mx_moreinfo","mouseoout",f._aA),e._a_("mx_moreinfo","mouseover",f._ay)},_aE:function(t,a){clearTimeout(f._az),s("mx_log_console").checked&&window.console.log(t);var n=s("mx_cover");n||((n=e.createElement("div")).className="mxi-f",n.id="mx_cover",e.body.appendChild(n));var r=s("mx_moreinfo");r.style.display="block";var o=a.center.x-i._aj/2-s("mx_view_cnt").scrollLeft;r.style.left=o+"px",r.style.top=a.center.y+a.radius+i._ak+5+"px";var l=k._d();l._X(n.style,t.id),n.style.display="block",r.innerHTML='<ul><li><b class="mxi-c">id:</b>{id}</li><li><b class="mxi-c">view:</b>{view}</li>{events} {location} {share} {mixins} {state}<li class="mxi-o">{ex}</li><li><b class="mxi-c">resources</b></li><li style="{moreInfoWidth}px;overflow:auto;max-height:200px">{res}</li></ul>'.replace(/\{(\w+)\}/g,function(e,n){switch(n){case"id":return a.id;case"view":if(t){if(t.$v||t.path)return _(t.path);if(t.view)return _(t.view.path)}return"";case"events":var r=k._e(t);return r.total?'<li><b class="mxi-c">listen:</b>'+r.list+"</li>":"";case"share":var o=k._f(t);return o.length?'<li><b class="mxi-c">share:</b>'+o+"</li>":"";case"location":var s=k._g(t);if(s.path||s.keys&&s.keys.length){var c=[];return s.path&&c.push('<span style="color:#FFC125">path</span>'),s.keys&&(c=c.concat(s.keys)),'<li><b class="mxi-c">location:</b>'+c+"</li>"}return"";case"mixins":var u=k._l(t);if(u.length){var f=l._aa(u);return'<li><b class="mxi-c">mixins:</b>'+(f=f.join(","))+"</li>"}return"";case"state":var d=k._m(t);return d.length?'<li><b class="mxi-c">state:</b>'+d.join(",")+"</li>":"";case"ex":if(a.il)return"\u88ab\u5b64\u7acb\u7684\u8282\u70b9\uff0c\u597d\u53ef\u601c\u2026\u2026";if(!t)return"vframe\u5df2\u88ab\u9500\u6bc1\uff0c\u4f46\u672a\u4ecevom\u4e2d\u79fb\u9664";if(t.path){if(t.cM&&!t.view||t.$c&&!t.$v)return"\u672a\u52a0\u8f7dview"}else if(!t.view)return"\u672a\u52a0\u8f7dview";if(t.cM){if(!t.fcc)return t.rC!=t.cC?"\u6b63\u7b49\u5f85\u5b50view\u52a0\u8f7d":"\u6b63\u7b49\u5f85view\u52a0\u8f7d"}else if(!t.$cr)return t.$rc!=t.$cc?"\u6b63\u7b49\u5f85\u5b50view\u52a0\u8f7d":"\u6b63\u7b49\u5f85view\u52a0\u8f7d";return t.fca||t.$ca?"\u7b49\u5f85view\u6e32\u67d3":"";case"res":var m=[],h=t&&t.view&&t.view.$res,v=void 0;if(h=h||t&&t.$v&&t.$v.$r){for(var p in h){v=!0;break}if(v){m.push('<table style="width:100%"><tr><td>key</td><td>type</td></tr>');for(var p in h)m.push("<tr><td>",p,"</td><td>",l._ab(h[p]),"</td></tr>");m.push("</table>")}}return m.join("");default:return i[n]}})},_aB:function(){var e=s("mx_moreinfo"),t=s("mx_cover");f._az=setTimeout(function(){e.style.display="none",t.style.display="none"},150)},_aG:function(e){clearTimeout(f._aF);var t=s("mx_manager_moreinfo");t.style.display="block",t.style.left=e.rect[0]+"px";var a=e.rect[1]+e.rect[3]+i._ak;a-=s("mx_manager_cnt").scrollTop,t.style.top=a+"px",t.innerHTML="<ul><li><b>key:</b>{id}</li><li><b>url:</b>{url}</li><li><b>\u63cf\u8ff0:</b>{desc}</li><li><b>\u7f13\u5b58:</b>{cache}</li><li><b>\u6e05\u7406\u7f13\u5b58:</b>{cleans}</li><li><b>\u9884\u5904\u7406:</b>{hasAfter}</li></ul>".replace(/\{(\w+)\}/g,function(t,a){switch(a){case"id":return e.id;default:return e[a]}})},_aH:function(){var e=s("mx_manager_moreinfo");f._aF=setTimeout(function(){e.style.display="none"},150)},_aI:function(e){s("mx_manager_total").innerHTML='<li class="mxi-k mxi-g">{groups}\u4e2a\u63a5\u53e3\u6587\u4ef6\uff0c\u5171{total}\u4e2a\u63a5\u53e3</li>'.replace(/\{(\w+)\}/g,function(t,a){switch(a){case"groups":return e.groups.length;case"total":return e.total}})},_aJ:function(e){s("mx_view_total").innerHTML='<li class="mxi-k mxi-g mxi-i">view\u7edf\u8ba1:[{count}]</li>'.replace(/\{(\w+)\}/g,function(t,a){switch(a){case"count":return"com:"+e.comTotal+",vom:"+e.vomTotal+",total:"+e.total}})},_aK:function(e){s("mx_manager_canvas").height=0|e},_aL:function(e){var t=s("mx_view_canvas");t.width=0|e,t.parentNode.scrollLeft=(t.width-i._ah)/2},_at:function(e){},_aw:function(e){}};!function(e,t){var a=document.createElement("style");document.documentElement.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}(0,'vframe{display:block}.mxi-_:before{width:12px;content:"M";height:12px;border-radius:6px;position:absolute;background-color:#008b00;opacity:.4;font-size:10px;line-height:12px;text-align:center;color:#fff}.mxi-a:before{background-color:#ff3030}.mxi-b:before{background-color:#bc8f8f}.mxi-c{padding-right:5px}.mxi-d{background:#eee;cursor:move;margin:0;padding:0}.mxi-e{position:fixed;right:20px;top:20px;width:550px;height:470px;z-index:2147483647;-webkit-box-shadow:0 0 5px #b9b9b9;box-shadow:0 0 5px #b9b9b9;background-color:#fff;font-size:12px;line-height:1.5}.mxi-f{position:absolute;opacity:.7;background-color:#90ee90}.mxi-e ul{list-style:none;padding:0;margin:0}.mxi-g{padding:5px}.mxi-h{height:28px;line-height:28px;margin:0 0 0 5px;padding:0}.mxi-i{color:#bbb}.mxi-j{margin-right:3px}.mxi-k{float:left}.mxi-l{float:right}.mxi-m{cursor:pointer}.mxi-n{padding:8px}.mxi-o{color:red}.mxi-p:after,.mxi-p:before{content:"";display:table}.mxi-p:after{clear:both}.mxi-p{*zoom:1}.mxi-q{height:1px;border:0;padding:0;margin:5px;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,hsla(270,6%,49%,.33)),to(rgba(165,69,243,0)))}#mx_manager_moreinfo,#mx_moreinfo{position:absolute;background-color:#eee;padding:8px;width:440px;display:none;-webkit-box-shadow:0 2px 2px 2px #b9b9b9;box-shadow:0 2px 2px 2px #b9b9b9;word-break:break-all}.mxi-r:before{left:4px;bottom:5px}.mxi-r:after,.mxi-r:before{content:" ";position:absolute;top:10px;border:2px dotted #b9b1b1;height:10px;cursor:move}.mxi-r:after{left:9px}');var d={_L:function(t,a){var i=s("mx_trancer");if(d._aM){var n=e.createElement("hr");n.className="mxi-q",i.insertBefore(n,i.firstChild),delete d._aM}var r=e.createElement("div");r.innerHTML=t,a&&(r.style.color=a),i.insertBefore(r,i.firstChild),i.getElementsByTagName("div").length>200&&(i.removeChild(i.lastChild),i.removeChild(i.lastChild)),clearTimeout(d._aN),d._aN=setTimeout(function(){d._aM=!0},1500)}},m={_aQ:function(){var e=m;e.list=[],delete e._aO,f._at=function(t){var a,i;if(e._aO?(i=e._aO,Math.pow(Math.pow(i.center.x-t.x,2)+Math.pow(i.center.y-t.y,2),.5)>i.radius&&(e._aP({item:i,action:"leave"}),delete e._aO,a=!0)):a=!0,a)for(var n=e.list.length-1;n>=0;n--)if(i=e.list[n],Math.pow(Math.pow(i.center.x-t.x,2)+Math.pow(i.center.y-t.y,2),.5)<=i.radius){e._aO!=i&&(e._aO=i,e._aP({item:i,action:"enter"}));break}}},_aT:function(){var e=m;e.managerList=[],delete e._aR,f._aw=function(t){var a,i,n;if(e._aR?(n=(i=e._aR).rect,(t.x<n[0]||t.y<n[1]||t.x>n[0]+n[2]||t.y>n[1]+n[3])&&(e._aS({item:i,action:"leave"}),delete e._aR,a=!0)):a=!0,a)for(var r=e.managerList.length-1;r>=0;r--)n=(i=e.managerList[r]).rect,t.x>=n[0]&&t.y>=n[1]&&t.x<=n[0]+n[2]&&t.y<=n[1]+n[3]&&e._aR!=i&&(e._aR=i,e._aS({item:i,action:"enter"}))}},_aU:function(e,t,a){var n=0,r=0,o={},s=function(e,t){e.deep=t,t>r&&(r=t),o[t]||(o[t]=0),e.leftCount=o[t],o[t]++,o[t]>n&&(n=o[t]);for(var a=0;a<e.children.length;a++)e.children[a],s(e.children[a],e.deep+1)};e.deepMap=o,s(e,1,0);var l=t/(n=Math.max(n,e.isolated.length+1))-i._al,c=a/r-i._al,u=t,_=2*i._am;l<_?(l=_,(u=_*n+(n+1)*i._al)>3e4&&(u=3e4),f._aL(u)):f._aL(u);var d=Math.floor(Math.min(c,l)/2),m=(d/20).toFixed(1);return{width:u,margin:i._al,radius:d,band:m}},_K:function(e,t){if(e.id){var r=i._af,o=i._ai,l=m;l._aQ();var c=l._aU(e,r,o);r=c.width;var u=s("mx_view_canvas").getContext("2d");u.clearRect(0,0,r,o);var _=2*c.radius-2*(c.band+1)-1;l.$tWidth||(l.$tWidth={});var d=function(e){return l.$tWidth[e]||(u.font="normal 12px Arial",l.$tWidth[e]=u.measureText(e).width),l.$tWidth[e]},h=function(e){for(var t=1,a=0;t<=e.length;){if(!((a+=d(e.substring(t-1,t)))<_))return e.substring(0,t-3)+"..";t+=1}return e},v=0,p=function(t,a,i,o){if(i){u.beginPath();var s=180*Math.atan((a.y-i.y)/(a.x-i.x))/Math.PI;s<0&&(s+=180);var l=Math.round(i.x+c.radius*Math.cos(s*Math.PI/180)),_=Math.round(i.y+c.radius*Math.sin(s*Math.PI/180));u.moveTo(l,_),u.lineTo(a.x,a.y),u.lineWidth=c.band/1.5,u.strokeStyle=o,u.stroke()}var f=e.deepMap[t.deep+1];if(f)for(var d=(r-(f*c.radius*2+(f-1)*c.margin))/2,m="#"+n[v++%n.length],h=0,x=void 0;h<t.children.length;h++)x=t.children[h],p(x,{x:d+x.leftCount*(2*c.radius+c.margin)+c.radius,y:a.y+c.margin+2*c.radius},a,m)},x=function(i,n){u.moveTo(n.x,n.y),u.beginPath(),u.arc(n.x,n.y,c.radius,0,2*Math.PI,!0),u.fillStyle=i.status,i.id==t&&(i.flag?u.fillStyle=a._ae:u.fillStyle=i.status,i.flag=!i.flag),u.fill();var o=Math.max(.5,c.radius/10),s=n.y+c.radius/2,_=n.x-c.radius/2+o;if(i.event&&(u.beginPath(),u.arc(_,s,o,0,2*Math.PI,!0),u.fillStyle=i.event,u.fill()),i.location&&(u.beginPath(),u.arc(n.x,s+o,o,0,2*Math.PI,!0),u.fillStyle=i.location,u.fill()),i.mixins){var f=s,d=s+o,m=((b=_)+(M=n.x)+Math.sqrt(3)*(d-f))/2-(M-b)/10,v=(f+d-Math.sqrt(3)*(M-b))/2+(M-b)/3;u.beginPath(),u.arc(m,v,o,0,2*Math.PI,!0),u.fillStyle=i.mixins,u.fill()}if(i.shared){var p=n.x+c.radius/2-o;u.beginPath(),u.arc(p,s,o,0,2*Math.PI,!0),u.fillStyle=i.shared,u.fill()}if(i.state){var f=s+o,d=s,m=((b=n.x)+(M=n.x+c.radius/2-o)+Math.sqrt(3)*(d-f))/2+(M-b)/10,v=(f+d-Math.sqrt(3)*(M-b))/2+(M-b)/3;u.beginPath(),u.arc(m,v,o,0,2*Math.PI,!0),u.fillStyle=i.state,u.fill()}if(i.inline){u.beginPath();var g=c.radius-c.band-1,w=-2*Math.PI/360*60,y=-2*Math.PI/360*120,b=n.x+g*Math.cos(w),f=n.y+g*Math.sin(w),M=n.x+g*Math.cos(y),d=n.y+g*Math.sin(y);u.moveTo(b,f),u.quadraticCurveTo(n.x,n.y-g/2,M,d),u.moveTo(b,f),u.quadraticCurveTo(n.x,n.y-c.radius-c.band,M,d),u.fillStyle="#fff",u.fill()}u.moveTo(n.x,n.y),u.beginPath(),u.arc(n.x,n.y,c.radius-c.band-1,0,2*Math.PI,!0),u.lineWidth=c.band,u.strokeStyle="#fff",u.stroke(),l.list.push({id:i.id,center:n,il:i.il,radius:c.radius}),u.beginPath(),u.moveTo(n.x,n.y),u.font="normal 12px Arial",u.fillStyle="#eee";var k=h(i.id),T=Math.round(u.measureText(k).width),$=(2*c.radius-T)/2;u.fillText(k,n.x+$-c.radius,n.y+4);var C=e.deepMap[i.deep+1];if(C)for(var S=(r-(C*c.radius*2+(C-1)*c.margin))/2,L=0,I=void 0;L<i.children.length;L++)I=i.children[L],x(I,{x:S+I.leftCount*(2*c.radius+c.margin)+c.radius,y:n.y+c.margin+2*c.radius})},g=e.isolated,w=r/2;if(g.length){w=(r-(g.length+1)*c.radius*2+g.length*c.margin)/2;for(var y=0;y<g.length;y++)x(g[y],{x:w+(y+1)*(2*c.radius+c.margin)+c.radius,y:c.margin+c.radius});w+=c.radius}p(e,{x:w,y:c.margin+c.radius}),x(e,{x:w,y:c.margin+c.radius}),f._aJ(e,c)}},_Q:function(e){var t=m;t._aT();var a=i._an*(e.rows+1)+e.rows*i._ao+(i._ap+i._an)*e.groups.length;f._aK(a);var r=s("mx_manager_canvas").getContext("2d");r.clearRect(0,0,i._ah,a);var o=i._an,l=(i._ah-(1+i._F)*i._an)/i._F|0,c=(r.font="normal 14px Arial",r.measureText("M").width),u=function(e,a,i,n){e.beginPath(),e.moveTo(a[0],a[1]),e.fillStyle=i.color,e.fillRect(a[0],a[1],a[2],a[3]),e.beginPath(),e.moveTo(a[0],a[1]+10),e.font="normal 14px Arial",e.fillStyle="#282828";for(var r,o=i.id;(o.length-3)*c>a[2];)o=o.slice(0,-1),r=!0;r&&(o=o.slice(0,-3)+"..."),e.fillText(o,a[0]+5,a[1]+25),i.package=n,i.rect=a,t.managerList.push(i)};!function(e){for(var t=0;t<e.length;t++){var a=e[t],s=i._an,c=!1;r.beginPath(),r.moveTo(s,o),r.font="normal 14px Arial",r.fillStyle="#282828",r.fillText(a.name,s+5,o+25),o+=i._ap;var _=void 0,f=void 0,d=Math.max(a.maxLeft,a.maxRight),m={},h=0,v=(d-a.maxLeft)/2*(i._ao+i._an),p=(d-a.maxRight)/2*(i._ao+i._an);for(_=0;_<d;_++){var x=a.cleans.left[_],g=a.cleans.right[_];x&&(u(r,[s,o+v,150,i._ao],x,a.name),m[x.id]=x),g&&(u(r,[i._ah-i._an-150,o+p,150,i._ao],g,a.name),m[g.id]=g,g.lineColor=n[h++%n.length]),o+=i._an+i._ao}for(var w in m)if((f=m[w]).cleans)for(var y={x:f.rect[0]+f.rect[2],y:f.rect[1]+(f.rect[3]/2|0)},b=(f.cleans+"").split(","),M=b.length-1;M>=0;M--){var k=m[b[M]],T={x:k.rect[0],y:k.rect[1]+(k.rect[3]/2|0)};r.beginPath(),r.moveTo(y.x,y.y),r.lineTo(T.x,T.y),r.lineWidth=1,r.strokeStyle="#"+(k.lineColor||"996699"),r.stroke()}for(_=0;_<a.caches.length;_++)u(r,[s,o,l,i._ao],a.caches[_],a.name),(_+1)%i._F==0?(s=i._an,o+=i._an+i._ao,c=!1):(s+=l+i._an,c=!0);for(s=i._an,c&&(o+=i._an+i._ao),_=0;_<a.items.length;_++)f=a.items[_],u(r,[s,o,l,i._ao],f,a.name),(_+1)%i._F==0?(s=i._an,o+=i._an+i._ao,c=!1):(s+=l+i._an,c=!0);s=i._an,c&&(o+=i._ap)}}(e.groups),f._aI(e)},_aP:function(e){var t=k._d()._o();"enter"==e.action?f._aE(t.get(e.item.id),e.item):f._aB()},_aS:function(e){"enter"==e.action?f._aG(e.item):f._aH()}},h={$:["zepto","fn.jquery"],jquery:["fn.jquery"],zepto:["zepto"],magix:["safeExec","toTry"]},v={},p=window.KISSY,x={_H:function(){p.use("node")},_n:function(){return(p.Env.mods["magix/magix"]?p.require("magix/magix"):p.require("magix")).config("rootId")},_o:function(){if(p.Env.mods["magix/magix"])return p.require("magix/vom");var e=p.require("magix");return e.VOM||e.Vframe},_A:function(){var e=p.Env.mods,t=[];for(var a in e){var i=e[a].exports||e[a].value;i&&(i.$mMetas&&i.$mCache||i.$mm&&i.$mc||i.$m&&i.$c)&&t.push({name:e[a].name,exports:i})}return t},_I:function(){var e=p.Env.mods["magix/magix"],t=p.Env.mods.node;if(e){var a=p.Env.mods["magix/vom"];return e.status===p.Loader.Status.ATTACHED&&a&&a.status===p.Loader.Status.ATTACHED&&t&&t.status===p.Loader.Status.ATTACHED}try{return(e=p.require("magix"))&&e.toTry&&t&&t.status===p.Loader.Status.ATTACHED}catch(e){return!1}},_X:function(e,t){var a=p.require("node").one("#"+t);if(a){var i,n=a,r={height:n.outerHeight?n.outerHeight():n.height(),width:n.outerWidth?n.outerWidth():n.width()};if(r.height)i=n.offset(),e.left=i.left+"px",e.top=i.top+"px",e.position="absolute",r.width=Math.max(r.width,n.children().width()||0),n;else{var o=4;do{if(n=n.children(),r.height=n.height(),n,r.height){var s=n.css("position");"fixed"==s?(s=n.css("left"),e.left=s,e.position=s,s=n.css("top"),e.top=s,s=n.css("right"),e.right=s,s=n.css("bottom"),e.bottom=s):(i=n.offset(),e.left=i.left+"px",e.top=i.top+"px",e.position="absolute",r.width=Math.max(r.width,n.children().width()||0));break}o--}while(n.length&&!r.height&&o>=0)}var l,c=-1;do{l||(l="none"==a.css("display"));var u=parseInt(a.css("z-index"))||1;u&&u>c&&(c=u),a=a.parent()}while(a);l&&(r={width:0,height:0}),1==c&&(c=2147483640),e.zIndex=c+1,e.width=r.width+"px",e.height=r.height+"px"}},_Y:function(e){return p.require("node").one("#"+e).offset()},_Z:function(e,t,a){var i=p.require("node");return p.isString(e)&&(e="#"+e),i.one(e).on(t,a)},_a_:function(e,t,a){var i=p.require("node");return p.isString(e)&&(e="#"+e),i.one(e).detach(t,a)},_aa:function(e){for(var t=p.Env.mods,a=[],i=0;i<e.length;i++){var n=e[i];if(n)if(n["\x1e"])a.push('<span style="color:#C71585">State.clean("'+n["\x1e"]+'")</span>');else for(var r in t){var o=t[r];if((o.exports||o.value)==n){a.push(r);break}}a.length<=i&&a.push("unknown")}return a},_ab:function(e){var t="",a=e.res||e.e;if(a)if(a.all&&a.constructor&&a.constructor.cached)t="Magix.Service";else if(a.fetchAll||a.all&&a.one&&a.next&&a.then)t="Model Manager";else if(a.bricks)t="Pagelet";else if(a.__attrs&&a.__attrVals&&a.constructor){var i=p.Env.mods,n=void 0;for(var r in i){var o=i[r],s=o.value||o.exports;if(s&&a.constructor==s){t=o.name,n=!0;break}}n||(t=a.hasOwnProperty("pagelet")?"Brick":"extend S Attribute")}else t=p.isFunction(a)?"\u51fd\u6570\u6216\u6784\u9020\u5668":p.type(a);else t=p.type(a);return t},_R:function(e){var t=p.Loader.Utils.attachMod;p.Loader.Utils.attachMod=function(){t.apply(p.Loader.Utils,arguments),e()}},_ac:function(e,t){var a=p.one(e),i=l._W(p.one,"detach",p.isFunction);p.one(t).on("mousedown",function(e){if(e.target.id==t.slice(1)){var n=parseInt(a.css("right"),10),r=parseInt(a.css("top"),10),o=e.pageX,s=e.pageY;i._U(e.target,function(e){i._V();var t=e.pageX-o,l=e.pageY-s;r+l<0&&(l=-r),a.css({right:n-t,top:r+l})})}})},_P:function(e){for(var t=e.length-1;t>=0;t--){var a=e[t],i=p.one("#"+a.id);i&&i.removeClass("mxi-a").removeClass("mxi-b").addClass("mxi-_"),a.cls&&i&&i.addClass(o[a.cls])}},_ad:function(e){return p.one(e)},_S:function(e){var t=p.Env.mods.magix;if(t&&(t=p.require("magix"))&&t.View&&t.View.prototype.share){var a=t.View.prototype.share;t.View.prototype.share=function(){a.apply(this,arguments),e()}}}},g={_H:function(){},_R:function(e){if(window.MutationObserver){new window.MutationObserver(function(){clearTimeout(void 0),setTimeout(e,1e3)}).observe(document.body,{subtree:!0,childList:!0,characterData:!0})}},_aV:function(e){var t=require.s.contexts._.defined,a=t[e]||v[e];if(!a&&h[e]){var i=h[e];for(var n in t){for(var r=!1,o=i.length-1;o>=0;o--){for(var s=i[o].split("."),l=t[n];s.length&&l;)l=l[s.shift()];if(l){r=!0;break}}if(r){a=t[n],v[e]=a;break}}}return a},_aW:function(){return this._aV("$")||this._aV("jquery")||this._aV("zepto")},_n:function(){var e=this._aV("magix/magix");return(e||this._aV("magix")).config("rootId")},_o:function(){var e=this._aV("magix/vom");if(e)return e;var t=this._aV("magix");return t.VOM||t.Vframe},_A:function(){var e=require.s.contexts._.defined,t=[];for(var a in e){var i=e[a];i&&(i.$mMetas&&i.$mCache||i.$mm&&i.$mc||i.$m&&i.$c)&&t.push({name:a,exports:i})}return t},_I:function(){return this._aV("magix/magix")||this._aV("magix")},_X:function(e,t){var a,i=this._aW(),n=i("#"+t),r=n,o={height:r.outerHeight?r.outerHeight():r.height(),width:r.outerWidth?r.outerWidth():r.width()};if(o.height)a=r.offset(),e.left=a.left+"px",e.top=a.top+"px",e.position="absolute",o.width=Math.max(o.width,r.children().width()||0),r;else{var s=4;do{if(r=r.children(),o.height=r.height(),r,o.height){var l=r.css("position");"fixed"==l?(l=r.css("left"),e.left=l,e.position=l,l=r.css("top"),e.top=l,l=r.css("right"),e.right=l,l=r.css("bottom"),e.bottom=l):(a=r.offset(),e.left=a.left+"px",e.top=a.top+"px",e.position="absolute",o.width=Math.max(o.width,r.children().width()||0));break}s--}while(r.length&&!o.height&&s>=0)}var c,u=-1;do{c||(c="none"==n.css("display"));var _=parseInt(n.css("z-index"))||1;_&&_>u&&(u=_),n=n.parent()}while(n.length&&i.contains(document.body,n[0]));c&&(o={width:0,height:0}),1==u&&(u=2147483640),e.zIndex=u+1,e.width=o.width+"px",e.height=o.height+"px"},_Y:function(e){return this._aW()("#"+e).offset()},_Z:function(e,t,a){var i=this._aW();return"string"==i.type(e)&&(e="#"+e),i(e).on(t,a)},_a_:function(e,t,a){var i=this._aW();return"string"==i.type(e)&&(e="#"+e),i(e).off(t,a)},_aa:function(e){for(var t=require.s.contexts._.defined,a=[],i=0;i<e.length;i++){var n=e[i];if(n)if(n["\x1e"])a.push('<span style="color:#C71585">State.clean("'+n["\x1e"]+'")</span>');else for(var r in t)if(t[r]==n){a.push(r);break}a.length<=i&&a.push("unknown")}return a},_ab:function(e){var t=e.res||e.e,a=this._aW(),i=a.type(e);return t&&(t.all&&t.constructor&&t.constructor.cached?i="Magix.Service":t.fetchAll||t.all&&t.one&&t.next&&t.then?i="Model Manager":t.bricks?i="Pagelet":a.isFunction(t)&&(i="\u51fd\u6570\u6216\u6784\u9020\u5668")),i},_ac:function(e,t){var a=this._aW(),i=a(e),n=l._W(a,"off",a.isFunction);a(t).on("mousedown",function(e){if(e.target.id==t.slice(1)){var a=parseInt(i.css("right"),10),r=parseInt(i.css("top"),10),o=e.pageX,s=e.pageY;n._U(e.target,function(e){n._V();var t=e.pageX-o,l=e.pageY-s;r+l<0&&(l=-r),i.css({right:a-t,top:r+l})})}})},_P:function(e){for(var t=this._aW(),a=e.length-1;a>=0;a--){var i=e[a],n=t("#"+i.id);n&&n.removeClass("mxi-a").removeClass("mxi-b").addClass("mxi-_"),i.cls&&n&&n.addClass(o[i.cls])}},_ad:function(e){return this._aW()(e)},_S:function(e){var t=this._aV("magix");if(t&&t.View&&t.View.prototype.share){var a=t.View.prototype.share;t.View.prototype.share=function(){a.apply(this,arguments),e()}}}},w={},y={},b={};for(var M in g)w[M]=y[M]=b[M]=g[M];w._aV=function(e){var t=seajs.cache,a=v[e];if(!a)for(var i in t){var n=t[i];if(n.id===e)return n.exports}if(!a&&h[e]){var r=h[e];for(var i in t){for(var o=!1,s=r.length-1;s>=0;s--){for(var l=r[s].split("."),c=t[i].exports;l.length&&c;)c=c[l.shift()];if(c){o=!0;break}}if(o){a=t[i].exports,v[e]=a;break}}}return a},w._A=function(){var e=seajs.cache,t=[];for(var a in e){var i=e[a],n=i.exports;n&&n.$m&&n.$s&&t.push({name:i.id,exports:n})}return t},w._aa=function(e){for(var t=seajs.cache,a=[],i=0;i<e.length;i++){var n=e[i];if(n)if(n["\x1e"])a.push('<span style="color:#C71585">State.clean("'+n["\x1e"]+'")</span>');else for(var r in t){var o=t[r];if(o.exports==n){a.push(o.id);break}}a.length<=i&&a.push("unknown")}return a},y._aV=function(e){var t;try{t=require(e)}catch(e){}return t||window.console.warn("seajs standalone\u6a21\u5f0f\u4e0b\u65e0\u6cd5\u627e\u5230\u6a21\u5757\uff1a"+e+"\uff0c\u4e5f\u65e0\u6cd5\u667a\u80fd\u63a2\u6d4b\u3002\u5982\u9700\u66f4\u591a\u5e2e\u52a9\u4fe1\u606f\u8bf7\u9489\u9489\u8054\u7cfb\uff1a\u884c\u5217"),t},y._A=function(){return[]},y._aa=function(e){return new Array(e.length+2).join("unknown").slice(1)},b._aV=function(e,t){if("magix"==key)return window.Magix},b._aW=function(){return window.$||window.jQuery},b._n=function(){return Magix.config("rootId")},b._o=function(){return Magix.VOM||Magix.Vframe},b._A=function(){return[]},b._aa=function(e){return new Array(e.length+2).join("unknown").slice(1)},b._I=function(){return!0};var k={_d:function(){return window.KISSY?x:window.requirejs?g:window.seajs?w:window.define&&window.require?y:window.Magix?b:void window.console.error("getEnvError:\u65e0\u6cd5\u5728\u5f53\u524d\u73af\u5883\u4e0b\u542f\u52a8Magix Inspector\uff0c\u5982\u9700\u66f4\u591a\u5e2e\u52a9\uff0c\u8bf7\u9489\u9489\u8054\u7cfb\uff1a\u884c\u5217")},_e:function(e){var t=[],a=0;if(e){var i=e.view&&(e.view.events||e.view.$evts)||e.$v&&e.$v.$eo,r=[],o=[];for(var s in i){a++;var l=i[s];isFinite(l)?(1==(1&l)&&r.push(s),2==(2&l)&&o.push(s)):r.push(s)}var c=e.view&&e.view.tmplEvents;c&&c.length&&(r=r.concat(c),a+=c.length),r.length&&t.push("&lt;"+r+"&gt;");var u=e.$v&&e.$v.$el,_=[],f=[],d=[],m={};if(u){for(var h=0,v=void 0;h<u.length;h++)if(v=u[h],a++,v.e)v.e==window?_.push(v.n):v.e==document&&f.push(v.n);else{var p=m[v.s];p?p.push(v.n):m[v.s]=[v.n]}for(var s in m)d.push("$"+s+"&lt;"+m[s]+"&gt;")}var x=e.$v&&e.$v.$so;if(o.length){for(var g={},w=0,y=void 0,b=void 0;w<o.length;w++){y=x[b=o[w]];for(var M in y){var k=g[M];k?k.push(b):g[M]=[b]}}for(var s in g)d.push("$"+s+"&lt;"+g[s]+"&gt;")}_.length&&t.push('<span style="color:#'+n[1]+'">$win&lt;'+_+"&gt;</span>"),f.length&&t.push('<span style="color:#'+n[3]+'">$doc&lt;'+f+"&gt;</span>"),d.length&&t.push('<span style="color:#'+n[4]+'">'+d+"</span>")}return{list:t,total:a}},_f:function(e){var t=[];if(e&&e.$v){var a=e.$v.$sd;if(a)for(var i in a)t.push(i)}return t},_g:function(e){var t,a=[];if(e){if(e.view){var i=e.view.$ol;i&&(t=i.pn,a=i.keys||i.ks)}if(e.$v){var n=e.$v.$l;n&&n.f&&(t=n.p,a=n.k)}}return{path:t,keys:a}},_j:function(e,t){var a=i._h,n=i._i,r=(n.r-a.r)/t,o=(n.g-a.g)/t,s=(n.b-a.b)/t;return"#"+("0"+parseInt(a.r+e*r).toString(16)).slice(-2)+("0"+parseInt(a.g+e*o).toString(16)).slice(-2)+("0"+parseInt(a.b+e*s).toString(16)).slice(-2)},_k:function(e){if(e){var t=e.view;if(t)return!t.template&&!t.tmpl;if(t=e.$v)return!t.tmpl}return!1},_l:function(e){if(e){var t=e.$v;if(t&&t.mixins)return t.mixins}return[]},_m:function(e){if(e){var t=e.$v;if(t&&t.$os)return t.$os}return[]},_z:function(e){var t=e._n(),n=e._o(),r=[],o={},l={total:0,comTotal:0,vomTotal:0,children:[]},c=n.all(),u={},_=!1;for(var f in c)c.hasOwnProperty(f)&&l.vomTotal++,u[f]=1;var d=function(e,t){var s=n.get(e),c={};if(s){l.total++,t.id=s.id,c.id=s.id,delete u[s.id],s.fcc||s.$cr?(t.status=a._p,c.cls=""):s.fca||s.$ca?(t.status=a._q,c.cls="_q",(s.cM&&!s.view||s.$c&&!s.$v)&&(t.status=a._r,c.cls="_s")):(t.status=a._r,c.cls="_s"),r.push(c),o[s.id]=t;var f=k._e(s).total;if(f){var m=i._t;f=Math.min(f,m),t.event=k._j(f,m)}var h=k._f(s);if(h.length){var v=i._u,p=Math.min(h.length,v);t.shared=k._j(p,v)}var x=k._g(s);if(x.path||x.keys&&x.keys.length){var g=i._v,w=x.keys||[],p=Math.min(g,w.length);t.location=k._j(p,g)}var y=k._l(s);if(y.length){var b=i._w,p=Math.min(y.length,b);t.mixins=k._j(p,b)}var M=k._m(s);if(M.length){var v=i._x,p=Math.min(M.length,v);t.state=k._j(p,v)}t.inline=k._k(s);var T=s.path;(t.inline||T&&T.indexOf("/gallery/")>0)&&(_=!0,t.component=!0,l.comTotal++);var $=s.cM||s.$c;for(var C in $){var S={children:[]};d(C,S),S.id&&t.children.push(S)}}};d(t,l);var m=s("mx_com_view");m&&m.checked||!_||(_=function(e){for(var t=e.children.length-1;t>=0;t--){var a=e.children[t];a.component?e.children.splice(t,1):_(a)}})(l);var h=[];for(var v in u)h.push({id:v,il:!0,status:a._y,children:[]}),r.push({id:v,cls:"_s"});return l.isolated=h,{tree:l,flattened:r,map:o}},_G:function(e){for(var t=e._A(),a=[],n=0,o={},s=0,l={},c=0,u=0;u<t.length;u++){var _=t[u],f=_.exports.$mMetas||_.exports.$mm||_.exports.$m;f._$id||(f._$id="t"+c++),l[f._$id]&&(l[f._$id].continued=!0),l[f._$id]=_}for(var d=0;d<t.length;d++){var m=t[d],h=[],v={left:[],right:[]},p=[],x=0,g=0,w=0,y=void 0,b=void 0,M=m.exports.$mMetas||m.exports.$mm||m.exports.$m;if(delete M._$id,!m.continued){for(y in M)if((b=M[y]).cleans)for(var k=(b.cleans+"").split(","),T=0;T<k.length;T++)o[k[T]]=y;for(y in M){b=M[y];var $=r._B,C={id:y,color:$,url:b.url||b.uri,cache:(b.cache||0|b.cacheTime)/1e3+"sec",desc:b.desc||"",cleans:b.cleans||"",cleaned:o[y]||"",hasAfter:b.after?(b.after+"").substr(0,200):""};b.cleans?($=r._C,C.color=$,v.left.push(C),g++):o[y]?($=r._D,C.color=$,v.right.push(C),w++):b.cache||b.cacheTime?($=r._E,C.color=$,p.push(C)):(h.push(C),x++),s++}}n+=Math.ceil(x/i._F),n+=Math.max(g,w),n+=Math.ceil(p.length/i._F),a.push({name:m.name,rows:n,cleans:v,caches:p,maxLeft:g,maxRight:w,items:h})}return{groups:a,rows:n,total:s}},_H:function(t){var a=k._d();a._H();var i=50,n=function(){--i?e.body&&a._I()?t():setTimeout(n,500):window.console.error("prepareError:\u65e0\u6cd5\u5728\u5f53\u524d\u73af\u5883\u4e0b\u542f\u52a8Magix Inspector(\u9700\u8981\u7684\u6a21\u5757\u5982jquery,magix\u7b49\u68c0\u6d4b\u4e0d\u5230)\uff0c\u5982\u9700\u66f4\u591a\u5e2e\u52a9\uff0c\u8bf7\u65fa\u65fa\u8054\u7cfb\uff1a\u884c\u5217")};n()},_T:function(){k._H(function(){f._J();var e,t,i,n,r,o=k._d(),s=o._o(),l=0,c=function(){n&&t&&(l=0,m._K(r.tree),clearInterval(t),n=t="")},u=function(){l=16,n&&!t&&(m._K(r.tree,n),t=setInterval(function(){l?(l--,m._K(r.tree,n)):c()},600))};document.onmouseout=document.onmouseover=function(e){clearTimeout(i),i=setTimeout(function(){for(var t,a=s.all(),i="mouseout"==e.type?e.relatedTarget:e.target;i&&i.parentNode;){var r=i.id;if(r&&a[r]){t=r;break}i=i.parentNode}t?t!=n&&(n=t,u()):c()},50)};var _=function(e){e.on("created",function(){d._L("vframe:"+e.id+"["+(e.path||e.view.path||"")+"]\u6e32\u67d3\u5b8c\u6bd5",a._p),v()}),e.on("alter",function(t){if(t.id&&!t.logged){t.logged=1;var i=s.get(t.id);i&&d._L("\u4ecevframe:"+i.id+"["+(i.path||i.view.path||"")+"] \u53d1\u8d77\u754c\u9762\u53d8\u66f4",a._M)}d._L("vframe:"+e.id+"\u6536\u5230\u53d8\u66f4\u6d88\u606f",a._q),v()}),e.on("viewInited",function(){d._L("vframe:"+e.id+"\u7684view["+e.view.path+"]\uff0cinit\u8c03\u7528\u5b8c\u6bd5",a._p)}),e.on("viewUnmounted",function(){var t=e.path||e.view&&e.view.path||"";t&&(t="["+t+"]"),d._L("vframe:"+e.id+"\u7684view"+t+"\u9500\u6bc1\u5b8c\u6bd5",a._N)}),e.on("viewMounted",function(){d._L("vframe:"+e.id+"\u7684view["+(e.path||e.view.path||"")+"]\uff0c\u9996\u6b21\u6e32\u67d3\u5b8c\u6bd5",a._p)}),e.___mh=!0},h=function(){var e=s.all();for(var t in e){var a=s.get(t);a.___mh||_(a)}},v=function(t){if(t)if("remove"==t.type)if(t.vframe){var i=t.vframe.path;!i&&t.vframe.view&&(i=t.vframe.view.path),i=i?"("+i+")":"",d._L("\u4eceVOM\u4e2d\u79fb\u9664vframe:"+t.vframe.id+i,a._O)}else d._L("remove:",t);else"created"==t.type&&h();clearTimeout(e),e=setTimeout(function(){c(),r=k._z(o),m._K(r.tree),u(),o._P(r.flattened)},0)};s.on("add",function(e){v(),e.vframe.pId&&d._L("\u627e\u5230vframe:"+e.vframe.pId+"\u7684\u5b50vframe:"+e.vframe.id,a._M),d._L("\u521b\u5efavframe:"+e.vframe.id,a._M),_(e.vframe)}),s.on("remove",v);var p=s.get(o._n());p&&p.on("created",v),h(),v(),k._K=v;var x,g=function(){clearTimeout(x),x=setTimeout(function(){var e=k._G(o);m._Q(e)},500)};o._R(g),o._S(v),g()})}};k._T()}}();